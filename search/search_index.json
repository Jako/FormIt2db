{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"FormIt2db/db2FormIt","text":"<p>FormIt hooks for saving/retreiving xPDO objects.</p>"},{"location":"#credits","title":"Credits","text":"<p>The snippets base on the code in the following thread in MODX forum https://forums.modx.com/thread/32560/formit2db-with-autocreate-schema-classes</p>"},{"location":"#requirements","title":"Requirements","text":"<ul> <li>MODX Revolution 2.6+</li> <li>PHP v5.6+</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Save xPDO objects during FormIt posts.</li> <li>Retreive xPDO objects before displaying FormIt forms.</li> </ul>"},{"location":"#license","title":"License","text":"<p>The project is licensed under the GPLv2 license.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#install-from-modx-extras","title":"Install from MODX Extras","text":"<p>Search for FormIt2db in the Package Manager of your MODX installation and install it in there.</p>"},{"location":"installation/#manual-installation","title":"Manual installation","text":"<p>If you can't access the MODX Extras Repository in your MODX installation, you can manually install FormIt2db.</p> <ul> <li>Download the transport package from MODX Extras (or one of the pre built transport packages in _packages)</li> <li>Upload the zip file to your MODX installation's <code>core/packages</code> folder or upload it manually in the MODX Package Manager.</li> <li>In the MODX Manager, navigate to the Package Manager page, and select 'Search locally for packages' from the dropdown button.</li> <li>FormIt2db should now show up in the list of available packages. Click the corresponding 'Install' button and follow instructions to complete the installation.</li> </ul>"},{"location":"installation/#build-it-from-source","title":"Build it from source","text":"<p>To build and install the package from source you could use Git Package Management. The GitHub repository of FormIt2db contains a config.json to build that package locally. Use this option, if you want to debug FormIt2db and/or contribute bugfixes and enhancements.</p>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#how-it-works","title":"How it works","text":"<p>The FormIt hooks<sup>1</sup> uses the following properties:</p>"},{"location":"usage/#hook-properties-for-formit2db","title":"Hook Properties for FormIt2db","text":"Property Description Default arrayFields JSON encoded array of form fields that contains array data i.e. <code>[\"field_1\", \"field_2\"]</code>. [] arrayFormat Format to transform form fields that contains array data (i.e. checkboxes) into. csv autoPackage Use the autocreated xPDO Package<sup>2</sup>. 0 (No) classname Class name of the xPDO object. - fieldname xPDO fieldname the POST param is compared with \u2013 to update a row instead of creating a new one. 'paramname' packagename Package name of the xPDO package. - paramname Requested POST param \u2013 to update a row instead of creating a new one. - prefix Table prefix of the xPDO package. MODX DB prefix removeFields JSON encoded array of form fields not saved in the xPDO object i.e. <code>[\"field_1\", \"field_2\"]</code>. [] tablename Table name of the MySQL table (only used if autoPackage is enabled). - where JSON encoded xPDO where clause \u2013 to update a row instead of creating a new one. -"},{"location":"usage/#hook-properties-for-db2formit","title":"Hook Properties for db2FormIt","text":"Property Description Default arrayFields JSON encoded array of database fields that are transformed into arrays i.e. <code>[\"field_1\", \"field_2\"]</code>. [] arrayFormat Format to transform database fields that contains array data (i.e. checkboxes) into. csv autoPackage Autocreate the xPDO Package with packagename and tablename<sup>2</sup>. 0 (No) classname Class name of the xPDO object. - fieldname xPDO fieldname the REQUEST param is compared with \u2013 to retreive an existing row. 'paramname' ignoreFields JSON encoded array of database fields that are not retreived into FormIt i.e. <code>[\"field_1\", \"field_2\"]</code>. [] notFoundRedirect ID of the MODX resource the user is redirected to, if the requested row is not found. - packagename Package name of the xPDO package. - paramname Requested REQUEST param \u2013 to retreive an existing row. - prefix Table prefix of the xPDO package. MODX DB prefix tablename Table name of the MySQL table (only used if autoPackage is enabled). - where JSON encoded xPDO where clause \u2013 to retreive an existing row. -"},{"location":"usage/#examples","title":"Examples","text":""},{"location":"usage/#formit-call","title":"FormIt call","text":"<p>The following FormIt call loads the record of the xPDO class <code>MyPackageClass</code> where the value in the <code>id</code> field is equal to the REQUEST parameter <code>item</code> and where the field value <code>updated</code> is equal to <code>0</code>. The fields <code>field_1</code> and <code>field_2</code> are not loaded into FormIt values. The fields <code>field_3</code> and <code>field_4</code> are not saved into the database record.</p> <pre><code>[[!FormIt?\n&amp;preHooks=`...,db2FormIt,...` \n&amp;hooks=`...,FormIt2db,...`\n&amp;packagename=`mypackage` \n&amp;classname=`MyPackageClass` \n&amp;fieldname=`id`\n&amp;paramname=`item` \n&amp;where=`{\"updated:=\":0}`\n&amp;ignoreFields=`[\"field_1\", \"field_2\"]`\n&amp;removeFields=`[\"field_3\", \"field_4\"]`\n</code></pre>"},{"location":"usage/#form-code","title":"Form code","text":"<pre><code>&lt;form action=\"[[~[[*id]]]]\" method=\"post\"&gt;\n    &lt;input type=\"hidden\" name=\"item\" value=\"[[!+fi.id]]\"/&gt;\n    ...\n&lt;/form&gt;\n</code></pre> <ol> <li> <p>The snippets base on the code in the following thread in MODX forum https://forums.modx.com/thread/32560/formit2db-with-autocreate-schema-classes\u00a0\u21a9</p> </li> <li> <p>If the xPDO package is autocreated, the classname in the package is generated by MODX and could be different to a classname set by parameter. If you disable the autoPackage parameter later, please look which classname was generated and change the parameter to that value.\u00a0\u21a9\u21a9</p> </li> </ol>"}]}