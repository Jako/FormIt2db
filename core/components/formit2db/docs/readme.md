# FormIt2db/db2FormIt

FormIt hooks for saving/retreiving xPDO objects.

- Author: Thomas Jakobi <thomas.jakobi@partout.info>
- License: GNU GPLv2

## Features

FormIt2db/db2FormIt are two small snippets to save xPDO objects during FormIt
posts and retreive them before displaying FormIt forms.

## Installation

MODX Package Management

The xPDO models could be also generated by i.e. MIGX or CMPGenerator.

## Documentation

### Hook Properties for FormIt2db

Property         | Description                                  | Default
---------------- | -------------------------------------------- | --------------
prefix           | Table prefix of the xPDO package             | MODX DB prefix
packagename      | Package name of the xPDO object              | -
classname        | Class name of the xPDO object                | -
tablename        | Table name of the autocreated xPDO Package   | -
where            | JSON encoded xPDO where clause - to update a | -
                 | row instead of creating a new one            |
paramname        | Requested POST param - to update a row       | -
                 | instead of creating a new one                |
fieldname        | xPDO fieldname the POST param is compared    | 'paramname'
                 | with - to update a row instead of creating a |
                 | new one                                      |
arrayFormat      | Format to transform form fields that         | csv
                 | contains array data (i.e. checkboxes) into   |
arrayFields      | JSON encoded array of form fields that       | []
                 | contains array data                          |
removeFields     | JSON encoded array of form fields not saved  | []
                 | in the xPDO object                           |
autoPackage      | Use the autocreated xPDO Package             | false

### Hook Properties for db2FormIt

Property         | Description                                  | Default
---------------- | -------------------------------------------- | --------------
prefix           | Table prefix of the xPDO package             | MODX DB prefix
packagename      | Package name of the xPDO object              | -
classname        | Class name of the xPDO object                | -
tablename        | Table name for autocreation of the xPDO      |
                 | Package                                      | -
where            | JSON encoded xPDO where clause - to retreive | -
                 | an existing row                              |
paramname        | Requested REQUEST param - to retreive an     | -
                 | existing row                                 |
fieldname        | xPDO fieldname the REQUEST param is compared | 'paramname'
                 | with - to retreive an existing row           |
arrayFormat      | Format to transform database fields that     | csv
                 | contains array data (i.e. checkboxes) into   |
arrayFields      | JSON encoded array of database fields that   | []
                 | are transformed into arrays                  |
ignoreFields     | JSON encoded array of database fields that   | []
                 | are not retreived into FormIt                |
notFoundRedirect | ID of the MODX resource the user is          | 0
                 | redirected to, if the requested row is not   |
                 | found                                        |
autoPackage      | Autocreate the xPDO Package with packagename |
                 | and tablename                                | false

### Notes

1. The snippets bases on the code in the following thread in MODX forum
   http://forums.modx.com/thread/?thread=32560
2. If the xPDO package is autocreated, the classname in the package is
   generated by MODX and could be different to a classname set by parameter.
   If you disable the autoPackage parameter later, please look which classname
   was generated and change the parameter to that value.

## GitHub Repository

https://github.com/Jako/FormIt2db
